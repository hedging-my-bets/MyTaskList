name: PetProgress
options:
  minimumXcodeGenVersion: 2.36.0
  deploymentTarget:
    iOS: "17.0"
packages: {}
settings:
  base:
    IPHONEOS_DEPLOYMENT_TARGET: 17.0
    SWIFT_VERSION: 5.9
    MARKETING_VERSION: 1.0.0
    CURRENT_PROJECT_VERSION: 1
targets:
  PetProgressShared:
    type: framework
    platform: iOS
    deploymentTarget: "17.0"
    sources:
      - path: Shared
    resources:
      - path: Shared/Resources/Assets.xcassets
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.yourco.petprogress.shared
        DEVELOPMENT_TEAM: YOUR_ACTUAL_TEAM_ID

  PetProgress:
    type: application
    platform: iOS
    deploymentTarget: "17.0"
    sources:
      - path: App
      - path: Entitlements
        optional: true
      - path: App/Resources
      - path: App/ErrorHandling
      - path: App/UI
      - path: App/Settings
    resources:
      - path: App/Resources/StageConfig.json
      - path: App/Resources/Assets.xcassets
      - path: Shared/Resources/Assets.xcassets
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.yourco.petprogress
        DEVELOPMENT_TEAM: YOUR_ACTUAL_TEAM_ID
    info:
      path: App/Info.plist
      properties:
        UILaunchScreen:
          UIImageName: ""
        CFBundleDisplayName: PetProgress
        CFBundleURLTypes:
          - CFBundleURLName: petprogress
            CFBundleURLSchemes: [petprogress]
    entitlements:
      path: Entitlements/App.entitlements
    dependencies:
      - target: PetProgressShared
    postBuildScripts: []
    scheme:
      testTargets: [PetProgressTests]

  PetProgressWidget:
    type: app-extension
    platform: iOS
    deploymentTarget: "17.0"
    sources:
      - path: Widget
      - path: Entitlements
        optional: true
      - path: Widget/Resources
    resources:
      - path: Widget/Resources/StageConfig.json
      - path: Shared/Resources/Assets.xcassets
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.yourco.petprogress.widget
        DEVELOPMENT_TEAM: YOUR_ACTUAL_TEAM_ID
        ASSETCATALOG_COMPILER_GLOBAL_ACCENT_COLOR_NAME: AccentColor
        LD_RUNPATH_SEARCH_PATHS: '$(inherited) @executable_path/Frameworks @executable_path/../../Frameworks'
        EXTENSION_POINT_IDENTIFIER: com.apple.widgetkit-extension
    entitlements:
      path: Entitlements/Widget.entitlements
    info:
      path: Widget/Info.plist
    dependencies:
      - target: PetProgressShared

  PetProgressTests:
    type: bundle.unit-test
    platform: iOS
    sources:
      - path: Tests
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.yourco.petprogress.tests
    dependencies:
      - target: PetProgress
      - target: PetProgressShared

schemes:
  PetProgress:
    build:
      targets:
        PetProgressShared: all
        PetProgress: all
        PetProgressWidget: all
        PetProgressTests: [test]
    test:
      gatherCoverageData: false
      testTargets:
        - name: PetProgressTests

